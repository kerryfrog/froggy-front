<ion-header [translucent]="true">
  <ion-toolbar class="toolbar">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <img src="{{pattern.thumbnail}}" />
  <div class="info__wrapper">
    <div>도안 창작자 <span>{{pattern.author}}</span></div>
    <div class="name">{{pattern.name}}</div>
    <div class="price" *ngIf="pattern.price">
      only for <span>{{pattern.price}}</span> {{pattern.currencySymbol}}
    </div>
    <div class="price" *ngIf="!pattern.price">가격정보 없음</div>
    <hr />
    <div class="difficulty">
      <span>난이도</span>
      <div *ngFor="let index of iconsArray" id="{{index}}">
        <ion-icon
          name="{{
            index - pattern.difficultyAverage  <= -1
            ?  activeIcon :defaultIcon
          }}"
        ></ion-icon>
      </div>
    </div>
    <div *ngIf="pattern.gauge">바늘 호수 <span>{{pattern.gauge }}</span></div>
    <div></div>

    <!-- <div *ngIf="pattern.notes">작가의 메모 <br />{{pattern.notes}}</div> -->
  </div>
  <hr />
  <div *ngIf="pattern.downloadable" class="link__wrapper">
    <h4>판매 링크</h4>
    <a href="{{pattern.url}}" target="_blank">{{pattern.url}}</a>
  </div>
  <hr />
  <div class="review">
    <div class="review__title">
      <h4>패턴 리뷰</h4>
      <ion-button class="outline" fill="outline" (click)="writeReview()">
        리뷰 작성하기
      </ion-button>
    </div>
    <div *ngIf="reviewList.length > 0">
      <app-review-list [reviewList]="reviewList"></app-review-list>
    </div>
    <!-- <div *ngFor="let review of reviewList">
      <div class="review__info">
        <div class="review__info__star">
          <span><ion-icon name="star"></ion-icon></span>
          <span><ion-icon name="star"></ion-icon></span>
          <span><ion-icon name="star"></ion-icon></span>
          <span><ion-icon name="star-outline"></ion-icon></span>
          <span><ion-icon name="star-outline"></ion-icon></span>
        </div>
        <div class="review__info__name">{{review.userNick}}</div>
        <div class="review__info__date">
          {{review.createdAt | date: "YY/MM/dd HH:mm"}}
        </div>
      </div>
      <div class="review__text">{{review.contents}}</div>
      <hr />
    </div> -->
  </div>
</ion-content>
